@model Domain.GetIndiaFirstResponceDetail
@{
    ViewBag.Title = "TermLifeList";
    Layout = "~/Views/Shared/_LayoutQuatoPage.cshtml";
}


<input type="hidden" id="ageself" value="@ViewData["SelfAge"].ToString()" />
<input type="hidden" id="hdnGender" value="@ViewData["Gender"].ToString()" />
<input type="hidden" id="hdnSmoke" value="@ViewData["Smoke"].ToString()" />
<input type="hidden" id="hdnfullName" value="@ViewData["fullName"].ToString()" />
<input type="hidden" id="hdnDOB" value="@ViewData["DOB"].ToString()" />
<input type="hidden" id="hdnEmail" value="@ViewData["Email"].ToString()" />
<input type="hidden" id="hdnPhone" value="@ViewData["Phone"].ToString()" />
<input type="hidden" id="hdnTermLifeId" value="@ViewData["TId"].ToString()" />
<input type="hidden" id="hdnSuminsured" value="@ViewData["Sumins"].ToString()" />
<input type="hidden" id="hdnpocyterm" value="@ViewData["plicyterm"].ToString()" />
<input type="hidden" id="hdnFrequency" value="@ViewData["Frequency"].ToString()" />
<input type="hidden" id="hdnPremiumType" value="@ViewData["Premiumtype"].ToString()" />
<input type="hidden" id="hdnState" value="@ViewData["city"].ToString()" />
<input type="hidden" id="hdnIncome" value="@ViewData["Income"].ToString()" />
<input type="hidden" id="hdncustid" value="@ViewData["Custid"].ToString()" />
@*<link href="~/Resources/css/termlifeList.css" rel="stylesheet" />
    <link href="~/Resources/css/quotesTravelInsurance.css" rel="stylesheet" />
    <link href="~/Resources/compare/css/modelStyle.css" rel="stylesheet" />*@
<link href="~/Resources/css/termlifeList.css" rel="stylesheet" />
<link href="~/Resources/css/quotesTravelInsurance.css" rel="stylesheet" />

@*<link href="~/Resources/compare/css/modelStyle.css" rel="stylesheet" />*@
<link href="~/Resources/css/HealthPlnQResult.css" rel="stylesheet" />
<link href="~/Resources/compare/css/style.css" rel="stylesheet" />

<link href="~/Resources/tableres/tables.css" rel="stylesheet" />
<script src="~/Resources/compare/js/termComare.js"></script>

<style>


    .prodetls {
        height: 47rem !important;
    }
    /*header {
        margin-bottom: 1%;
    }*/
    .btnlts div {
        display: block !important;
    }


 

    .healthlbl {
        margin-bottom: 0px !important;
    }

    .btnlts div {
        display: block !important;
        float: left;
        width: 100%;
        background: none !important;
        font-family: 'Poppins', sans-serif !important;
        color: #333 !important;
        letter-spacing: 1px;
    }

        .btnlts div span:nth-child(1) {
            font-weight: bold;
            color: #171616;
            letter-spacing: 1px;
            border: 0px solid #636a6f;
            background: #f9f9f9;
            border-radius: 8px;
        }

    .btnlts {
        padding-right: 7px;
    }

    .conterty {
        display: block;
    }

    table.dataTable tbody td p {
        color: #d0610b;
        font-weight: bold;
        letter-spacing: 1px;
    }

    table.dataTable tbody td.left.sorting_1 p {
        color: #0d5b8e;
        font-weight: bold;
        letter-spacing: 0px;
    }

    table#mytable > tbody > tr.even > td.dataTableCenter > table > tbody > tr > td:nth-child(1) {
        text-align: left !important;
    }

    table#mytable > tbody > tr.even > td.dataTableCenter > table > tbody > tr > td:nth-child(2) {
        text-align: left !important;
    }

</style>
<style>
    .dlwefjlerj ul.product li {
        border-bottom: 1px solid #eaeef1 !important;
        line-height: 43px;
    }


    .product li {
        border-bottom: 1px solid #e2e2e2;
        height: 51px;
    }

    .no-footer td span {
        display: block;
        position: relative;
        /*left: 11px;*/
        text-align: center;
    
    }

    .fa.fa-inr {
        position: relative;
        font-size: 15px;
        right: 3px;
    }

    #basic th {
  
        font-size: 14px !important;
    }
     table.dataTable tbody td:nth-child(2) p {
        font-size: 13px;
    }

    table.dataTable tbody td.left.sorting_1 p {
        font-size: 13px;
        text-align:center;
    }

    section {
        padding: 0 0% 0 0;
    }

    input.addToCompare[type=checkbox] {
        position: relative !important;
        z-index:3 !important;
    }

    .w3-round-small {
        position: relative !important;
        z-index: 99999999999999999 !important;
    }

    .w3-container {
        padding: 0.01em 0px !important;
    }
</style>

<section class="trenmw">
    <h6>***</h6>
    <div class="col-xs-12 col-sm-3 col-md-3 col-lg-3">


        <div class="btnlts">
            <div><span class="col-xs-12 col-sm-4 col-md-4">Name</span> <span class="col-xs-12 col-sm-4 col-md-8">  @ViewData["fullName"].ToString()</span></div>
            <div><span class="col-xs-12 col-sm-4 col-md-4">Age</span> <span class="col-xs-12 col-sm-4 col-md-8"> @ViewData["SelfAge"].ToString()</span></div>
            <div><span class="col-xs-12 col-sm-4 col-md-4">Gender</span> <span class="col-xs-12 col-sm-4 col-md-8"> @ViewData["Gender"].ToString() </span></div>
            <div><span class="col-xs-12 col-sm-4 col-md-4">Smoke</span> <span class="col-xs-12 col-sm-4 col-md-8"> @ViewData["Smoke"].ToString()</span></div>

            <div id="slidesa" class="some_class" style="display:block;">
                <div class="row-health">
                    <div class="middle-two">
                        @*ppppppppppppppppppppp.......................*@
                        <label class="healthlbl" style="width: 100%;">
                            <p class="label-txt">Cover Amount:</p>
                            @Html.DropDownListFor(model => model.Suminsured, (SelectList)ViewData["suminsured"], "Select", new { @class = "healthinpt", required = "required" })
                        </label>

                        <label class="healthlbl" style="width: 100%;">
                            <p class="label-txt">Cover Term:</p>
                            @Html.DropDownListFor(model => model.POLICY_TERM, (SelectList)ViewData["Policyterm"], "Select", new { @class = "healthinpt", required = "required" })
                        </label>

                        <label class="healthlbl" style="width: 100%;">
                            <p class="label-txt">Frequency:</p>
                            @Html.DropDownListFor(model => model.Frequency, (SelectList)ViewData["Frequ"], "Select", new { @class = "healthinpt", required = "required" })
                        </label>
                        <label class="healthlbl" style="width: 100%;">
                            <p class="label-txt">Premium Type:</p>
                            @Html.DropDownListFor(model => model.PemiumType, (SelectList)ViewData["PremiumTypenew"], "Select", new { @class = "healthinpt", required = "required" })
                        </label>
                        @*ppppppppppppppppppppp.......................*@



                    </div>
                </div>
            </div>
        </div>
    </div>


    <div class="col-xs-12 col-sm-9 col-md-9" style="padding:0px;">
        <div class="table-container-wrap">


            <div class="praposal-newBikeContainers">
                <div class="containerg-tabls">

                    <div id="content">

                        <section class="demo" id="basic">
                            <div>

                                <table id="mytable">
                                    <thead>
                                        <tr>
                                            <th scope="col">Company</th>
                                            <th scope="col">Plan Info</th>
                                            <th scope="col">Sum Insured</th>
                                            <th scope="col">Premium<span class="font-12"></span></th>
                                        </tr>
                                    </thead>
                                    <tbody></tbody>
                                </table>

                            </div>

                        </section>
                    </div>

                </div>

            </div>
        </div>
    </div>

</section>
<!--preview panel-->
<div class="w3-container  w3-center">
    <div class="w3-row w3-card-4 w3-grey w3-round-large w3-border comparePanle w3-margin-top">
        <div class="w3-row">
            <div class="w3-col l9 m8 s6 w3-margin-top">
                @*<h4>Added for comparison</h4>*@
            </div>
            <div class="w3-col l3 m4 s6 w3-margin-top">
                &nbsp;
                <button class="w3-btn w3-round-small w3-white w3-border notActive cmprBtn" disabled>Compare</button>
            </div>
        </div>
        <div class=" titleMargin w3-container comparePan">
        </div>
    </div>
</div>
<!--end of preview panel-->
<!-- comparision popup-->
<div id="id01" class="w3-animate-zoom w3-white w3-modal modPos" style="background:rgba(255, 255, 255,0.9); padding-top: 4rem;">
    <div class="w3-container" style="position:absolute;z-index:99999999999;">
        <a onclick="document.getElementById('id01').style.display='none'" class="whiteFont w3-padding w3-closebtn closeBtn clsdfg">&times;</a>
    </div>
    <div class="w3-row contentPop w3-margin-top">
    </div>

</div>
<!--end of comparision popup-->
<!--  warning model  -->
<div id="WarningModal" class="w3-modal">
    <div class="w3-modal-content warningModal">
        <header class="w3-container w3-teal">
            <h3><span>&#x26a0;</span>Error</h3>
        </header>
        <div class="w3-container">
            <h4>Maximum of Three products are allowed for comparision</h4>

        </div>
        <footer class="w3-container w3-right-align">
            <button id="warningModalClose" onclick="document.getElementById('id01').style.display='none'" class="w3-btn w3-hexagonBlue w3-margin-bottom">Ok</button>
        </footer>
    </div>
</div>
<!--  end of warning model  -->
@*<script src="~/Resources/compare/js/Compare2.js"></script>*@


<script>
    $("#buynow").click(function () {
        $.ajax({
            url: "PayOut",
            method: "post",
            data: { "CustID": $("#hdnCustId").val() },
            success: function (responseString) {
                debugger;
                console.log(responseString);
                $("#hdnresponseString").val(("[" + responseString + "]").replace(/'/g, '"'));
                $("#frmPayout").submit()

            }
        })
    })
    //
</script>

<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
<script src="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.min.js"></script>

<link href="https://cdn.datatables.net/1.10.20/css/jquery.dataTables.min.css" rel="stylesheet" />
<script src="~/Resources/js/jquery.ba-throttle-debounce.min.js"></script>
<script src="~/Resources/js/jquery.stickysort.js"></script>

@*<script>
        function NavigateDetail(PlanId) {

                document.location.href = "/TermAndLife/GetDetails/" + PlanId + "?tid=" + $("#hdnTermLifeId").val();

        }

    </script>
    <script>

        function BindPremium() {

            $('#mytable').dataTable().fnDestroy();
            var _searchData = "";
            var dataTable = $('#mytable').DataTable({
                "responsive": true,
                "xscroll": true,
                "paging": false,
                "stateSave": false,
                "ordering": true,
                "order": [[2, "desc"]],
                "info": false,
                "oLanguage": {
                    "sEmptyTable": "No record"
                },
                "lengthMenu": [[10, 25, 50, 100, -1], [10, 25, 50, 100, "All"]],
                "processing": true,
                "serverSide": true,
                "searching": false,
                "lengthChange": false,
                "ajax": {
                    url: "/TermAndLife/TermList", // json datasource
                    type: "Post",  // method  , by default get string fullName, string DOB, string Email, string Phone

                    data: { "searchTxt": _searchData, "ageSelf": $("#ageself").val(), "Gender": $("#hdnGender").val(), "Smoke": $("#hdnSmoke").val(), "fullName": $("#hdnfullName").val(), "DOB": $("#hdnDOB").val(), "Email": $("#hdnEmail").val(), "Phone": $("#hdnPhone").val() },

                    error: function () {  // error handling
                        jQuery("#example1").append('<tbody class="business-user-grid-error"><tr><th colspan="4">No record</th></tr></tbody>');

                    }
                },
                "columnDefs": [{
                    "targets": 0,
                    "orderable": false,
                    "sClass": "dataTableCenter"
                }, {
                    "targets": 2,
                    "orderable": false,
                    "sClass": "left"
                }]
            });
            return dataTable;
        }
    </script>
    <script>
        $(function () {

            BindPremium();
        });
    </script>*@

<script>
    function NavigateDetail(PlanId, Company) {
        if (Company == "10010") {
            document.location.href = "/TermAndLife/GetHdfcDetails/" + PlanId + "?tid=" + $("#hdnTermLifeId").val() + "&POLICY_TERM=" + $("#POLICY_TERM").val() + "&Frequency=" + $("#Frequency").val();
            ;
        }
        else if (Company == "10011") {

            document.location.href = "/TermAndLife/GetICICIDetails/" + PlanId + "?tid=" + $("#hdnTermLifeId").val() + "&POLICY_TERM=" + $("#POLICY_TERM").val() + "&Frequency=" + $("#Frequency").val();
        }
        else if (Company == "10014") {
            document.location.href = "/TermAndLife/GetKotakDetails/" + PlanId + "?tid=" + $("#hdnTermLifeId").val() + "&POLICY_TERM=" + $("#POLICY_TERM").val() + "&Frequency=" + $("#Frequency").val() + "&State=" + $("#hdnState").val(), "&Income=" + $("#hdnIncome").val();
        }
        else {

            document.location.href = "/TermAndLife/GetDetails/" + PlanId + "?tid=" + $("#hdnTermLifeId").val() + "&POLICY_TERM=" + $("#POLICY_TERM").val() + "&Frequency=" + $("#Frequency").val() + "&State=" + $("#hdnState").val(), "&Income=" + $("#hdnIncome").val();
            ;
        }
    }

</script>



<script>

    function BindPremium(Suminsured, POLICY_TERM, Frequency, PemiumType) {@*pppppppppppppppp..........*@

        $('#mytable').dataTable().fnDestroy();
        var _searchData = "";
        var dataTable = $('#mytable').DataTable({
            "responsive": true,
            "xscroll": true,
            "paging": false,
            "stateSave": false,
            "ordering": true,
            "order": [[2, "desc"]],
            "info": false,
            "oLanguage": {
                "sEmptyTable": "No record"
            },
            "lengthMenu": [[10, 25, 50, 100, -1], [10, 25, 50, 100, "All"]],
            "processing": true,
            "serverSide": true,
            "searching": false,
            "lengthChange": false,
            "ajax": {
                url: "/TermAndLife/TermList", // json datasource
                type: "Post",  // method  , by default get string fullName, string DOB, string Email, string Phone

                data: { "searchTxt": _searchData, "ageSelf": $("#ageself").val(), "Gender": $("#hdnGender").val(), "Smoke": $("#hdnSmoke").val(), "fullName": $("#hdnfullName").val(), "DOB": $("#hdnDOB").val(), "Email": $("#hdnEmail").val(), "Phone": $("#hdnPhone").val(), "Suminsured": Suminsured, "POLICY_TERM": POLICY_TERM, "Frequency": Frequency, "State": $("#hdnState").val(), "TID": $("#hdnTermLifeId").val(), "PemiumType": PemiumType, "Income": $("#hdnIncome").val(), "CustId": $("#hdncustid").val() },@*ppppppppppp.......*@

                error: function () {  // error handling
                    jQuery("#example1").append('<tbody class="business-user-grid-error"><tr><th colspan="4">No record</th></tr></tbody>');

                }
            },
            "columnDefs": [{
                "targets": 0,
                "orderable": false,
                "sClass": "dataTableCenter"
            }, {
                "targets": 2,
                "orderable": false,
                "sClass": "left"
            }]
        });
        return dataTable;
    }
</script>
@*For Display Plan Details*@
<script>
    $("#iddetails").click(function () {
        $("#idtable").css("display", "block");
    })
    function HideTable(tablid) {
        var color = $("#" + tablid).css("display");
        if (color == "none") {
            $("#" + tablid).css('display', 'block');
        }
        else if (color == "block") {
            $("#" + tablid).css('display', 'none');
        }
        else {
            $("#" + tablid).css('display', 'none');
        }

    }
</script>

<script>
    $(function () {
        BindPremium($('#Suminsured').val(), $('#POLICY_TERM').val(), $('#Frequency').val(), $("#PemiumType").val());
        //BindPremium($('#Suminsured').val(), $('#PolicyTerm').val());
    });

    $('#Suminsured').change(function () {

        BindPremium($('#Suminsured').val(), $('#POLICY_TERM').val(), $('#Frequency').val(), $("#PemiumType").val());@*pppppppppppppppp.............*@

        })
    $('#POLICY_TERM').change(function () {
        BindPremium($('#Suminsured').val(), $('#POLICY_TERM').val(), $('#Frequency').val(), $("#PemiumType").val());@*pppppppppppppppp.............*@
        })
    $("#Frequency").change(function () {
        BindPremium($('#Suminsured').val(), $('#POLICY_TERM').val(), $('#Frequency').val(), $("#PemiumType").val());@*pppppppppppppppp.............*@
        })
    $("#PemiumType").change(function () {
        BindPremium($('#Suminsured').val(), $('#POLICY_TERM').val(), $('#Frequency').val(), $("#PemiumType").val());@*pppppppppppppppp.............*@
        })
</script>